"use strict";$(function(){console.log("Ready.");var e=$(".gameholder"),a=$(".square"),t=$("#play"),r=$("#timerScreen"),n=$("#clickScoreScreen"),s=$("#userScoreScreen"),d=$("#timeDifferenceScreen"),o=$("#fastestClickScreen"),c=$("#averageCLickScreen"),l=$("#highscoreScreen"),g=$("#highscoreFastestClickScreen"),i=$("#highscoreAverageCLickScreen"),u=$(".badge"),b=$("#badge1"),h=$("#badge2"),f=$("#badge3"),C=$("#badge4"),m=$("#badge5"),v=$("#badge6"),S=$("#badge7"),p=$("#badge8"),k=20,y=null,x=200,M=!1,T=0,I=0,q=0,w=0,L=0,j=0,A=0,D=0,F=0,Q=0,R=0,z=[],B=0,E=0,G=function(){return R=Q-F},H=function(){return B=Math.min.apply(Math,z)},J=function(){var e=z.reduce(function(e,a){return e+a},0);return E=parseInt(e/z.length)},K=function(){(B<A||0===A)&&(A=B,g.html(A)),(E<D||0===D)&&(D=E,i.html(D)),T>j&&(j=T,l.html(j)),T=0,I=0,q=0,w=0,I=0,z=[],B=0,E=0,clearInterval(y),k=20,a.removeClass("otter beaver"),u.removeClass("badge1 badge2 badge3 badge4 badge5 badge6 badge7 badge8")};t.on("click",function(){!1===M&&(K(),M=!0,P(),y=setInterval(function(){k--,r.html(k),0===k&&(r.addTemporaryClass("ringing",2e3),clearInterval(y),M=!1)},1e3))});var N=function(){var e=Math.floor(Math.random()*a.length);return a.eq(e)},O=function(){return 99*Math.random()+1<30?"otter":"beaver"},P=function e(){setTimeout(function(){N().addTemporaryClass(O(),1e3),x=1e3*Math.random()*1.5+1,!0===M&&(F=$.now(),e())},x)},U=function(){w>5&&b.addClass("badge1"),w>10&&h.addClass("badge2"),w>20&&f.addClass("badge3"),w>50&&C.addClass("badge4"),q>5&&m.addClass("badge5"),q>10&&v.addClass("badge6"),L>10&&S.addClass("badge7"),T>j&&p.addClass("badge8")};e.on("click",function(e){Q=$.now(),!0===M&&($(e.target).hasClass("beaver")?(I=20,T+=20,w+=1,U(),$(e.target).removeClass("beaver")):$(e.target).hasClass("otter")?(I=-10,T-=20,q+=1,U(),$(e.target).removeClass("otter")):(I=-5,T-=5,L+=1),n.text(I),s.text(T),z.push(G()),d.text(G()),o.text(H()),c.text(J()))}),function(e){e.fn.extend({addTemporaryClass:function(a,t){var r=this;return setTimeout(function(){r.removeClass(a)},t),this.each(function(){e(this).addClass(a)})}})}(jQuery)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiY29uc29sZSIsImxvZyIsIiRzcXVhcmVzIiwiJGdhbWVob2xkZXIiLCIkY2xpY2tTY29yZVNjcmVlbiIsIiR1c2VyU2NvcmVTY3JlZW4iLCIkY2xpY2tUaW1lRGlmZmVyZW5jZVNjcmVlbiIsIiRmYXN0ZXN0Q2xpY2tTY3JlZW4iLCIkaGlnaGVzdHNjb3JlU2NyZWVuIiwiJGhpZ2hlc3RzY29yZUZhc3Rlc3RDbGlja1NjcmVlbiIsIiRiYWRnZXMiLCIkYmFkZ2UxIiwiJGJhZGdlMiIsIiRiYWRnZTMiLCIkYmFkZ2U0IiwiJGJhZGdlNSIsIiRiYWRnZTYiLCJ0aW1lUmVtYWluaW5nIiwidGltZXJJZCIsImdhbWVPbiIsInVzZXJTY29yZSIsImNsaWNrU2NvcmUiLCJvdHRlclNjb3JlIiwiaGlnaHNjb3JlIiwiaGlnaHNjb3JlRmFzdGVzdENsaWNrVGltZSIsInRpbWVTaG93QW5pbWFsIiwidXNlckNsaWNrQW5pbWFsIiwiY2xpY2tUaW1lIiwidXNlclRpbWVBcnJheSIsImZpbmRDbGlja1RpbWUiLCJmaW5kVXNlckZhc3Rlc3RDTGljayIsInVzZXJGYXN0ZXN0Q0xpY2siLCJNYXRoIiwibWluIiwiYXBwbHkiLCJmaW5kVXNlckF2ZXJhZ2VDbGlja1RpbWUiLCJzdW0iLCJyZWR1Y2UiLCJhIiwiYiIsInVzZXJBdmVyYWdlQ2xpY2tUaW1lIiwicGFyc2VJbnQiLCJsZW5ndGgiLCJyZXNldCIsImhpZ2hzY29yZUF2ZXJhZ2VDbGlja1RpbWUiLCIkaGlnaGVzdHNjb3JlYXZlcmFnZUNMaWNrU2NyZWVuIiwiJHBsYXkiLCJvbiIsInNob3dBbmltYWxzIiwic2V0SW50ZXJ2YWwiLCIkdGltZXJTY3JlZW4iLCJhZGRUZW1wb3JhcnlDbGFzcyIsImNsZWFySW50ZXJ2YWwiLCJzZWxlY3RSYW5kb21TcXVhcmUiLCJyYW5kb21JbmRleCIsImZsb29yIiwicmFuZG9tIiwiZXEiLCJyYW5kb21BbmltYWwiLCJzZXRUaW1lb3V0IiwiZGVsYXkiLCJub3ciLCJjaGVja0FuZFNob3dCYWRnZXMiLCJiZWF2ZXJTY29yZSIsImFkZENsYXNzIiwiYmxhbmtTY29yZSIsIiRiYWRnZTciLCIkYmFkZ2U4IiwiZSIsInRhcmdldCIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJ0ZXh0IiwicHVzaCIsIiRhdmVyYWdlQ0xpY2tTY3JlZW4iLCJmbiIsImV4dGVuZCIsImNsYXNzTmFtZSIsImR1cmF0aW9uIiwiZWxlbWVudHMiLCJ0aGlzIiwiZWFjaCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IllBQUFBLEdBQUUsV0FDQUMsUUFBUUMsSUFBSSxTQUFaRCxJQUFBQSxHQUFBRCxFQUFBLGVBQ0FHLEVBQUFILEVBQUEsV0FDTUksRUFBQUEsRUFBQUEsU0FDQUQsRUFBYUgsRUFBQSxnQkFLYkssRUFBb0JMLEVBQUUscUJBRDVCTSxFQUFBTixFQUFBLG9CQUtNTyxFQUE2QlAsRUFBRSx5QkFEckNRLEVBQUFSLEVBQUEsdUJBQ01PLEVBQUFBLEVBQUFBLHVCQUtBRSxFQUFzQlQsRUFBRSxvQkFEOUJVLEVBQUFWLEVBQUEsZ0NBQ01TLEVBQXdCVCxFQUFBLGdDQUt4QlcsRUFBVVgsRUFBRSxVQURsQlksRUFBQVosRUFBQSxXQUNNVyxFQUFZWCxFQUFBLFdBQ1pZLEVBQVlaLEVBQUEsV0FDWmEsRUFBWWIsRUFBQSxXQUNaYyxFQUFZZCxFQUFBLFdBQ1plLEVBQVlmLEVBQUEsV0FDWmdCLEVBQVloQixFQUFBLFdBQ1ppQixFQUFZakIsRUFBQSxXQUtka0IsRUFBZ0IsR0FEcEJDLEVBQUEsS0FDSUQsRUFBQUEsSUFLQUUsR0FBUyxFQUdUQyxFQUFZLEVBRGhCQyxFQUFBLEVBQ0lELEVBQUosRUFDSUMsRUFBSixFQUNJQyxFQUFhLEVBS2JDLEVBQVksRUFEaEJDLEVBQUEsRUFDSUQsRUFBSixFQUtJRSxFQUFpQixFQURyQkMsRUFBQSxFQUNJRCxFQUFBQSxFQUNBQyxLQUNBQyxFQUFKLEVBQ0lDLEVBQUosRUFLTUMsRUFBZ0IsV0FBdEIsTUFEQUYsR0FBQUQsRUFB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LE1BQU1oQixTQUFTYSxTQUl0QksiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdSZWFkeS4nKTtcbiAgLy9kZWZpbmUgZ2xvYmFsIHZhcmlhYmxlc1xuICBjb25zdCAkZ2FtZWhvbGRlciA9ICQoJy5nYW1laG9sZGVyJyk7XG4gIGNvbnN0ICRzcXVhcmVzID0gJCgnLnNxdWFyZScpO1xuICBjb25zdCAkcGxheSA9ICQoJyNwbGF5Jyk7XG4gIGNvbnN0ICR0aW1lclNjcmVlbiA9ICQoJyN0aW1lclNjcmVlbicpO1xuXG4gIC8vZ2xvYmFsIHZhaWFibGVzIGZvciB1c2VyIHNjb3Jlc1xuICBjb25zdCAkY2xpY2tTY29yZVNjcmVlbiA9ICQoJyNjbGlja1Njb3JlU2NyZWVuJyk7XG4gIGNvbnN0ICR1c2VyU2NvcmVTY3JlZW4gPSAkKCcjdXNlclNjb3JlU2NyZWVuJyk7XG5cbiAgLy9nbG9iYWwgdmFpcmFibGVzIGZvciB1c2VyIGNsaWNrIHRpbWVzXG4gIGNvbnN0ICRjbGlja1RpbWVEaWZmZXJlbmNlU2NyZWVuID0gJCgnI3RpbWVEaWZmZXJlbmNlU2NyZWVuJyk7XG4gIGNvbnN0ICRmYXN0ZXN0Q2xpY2tTY3JlZW4gPSAkKCcjZmFzdGVzdENsaWNrU2NyZWVuJyk7XG4gIGNvbnN0ICRhdmVyYWdlQ0xpY2tTY3JlZW4gPSAkKCcjYXZlcmFnZUNMaWNrU2NyZWVuJyk7XG5cbiAgLy9nbG9iYWwgdmFyaWFibGVzIGZvciB0b3BzY29yZXNcbiAgY29uc3QgJGhpZ2hlc3RzY29yZVNjcmVlbiA9ICQoJyNoaWdoc2NvcmVTY3JlZW4nKTtcbiAgY29uc3QgJGhpZ2hlc3RzY29yZUZhc3Rlc3RDbGlja1NjcmVlbiA9ICQoJyNoaWdoc2NvcmVGYXN0ZXN0Q2xpY2tTY3JlZW4nKTtcbiAgY29uc3QgJGhpZ2hlc3RzY29yZWF2ZXJhZ2VDTGlja1NjcmVlbiA9ICQoJyNoaWdoc2NvcmVBdmVyYWdlQ0xpY2tTY3JlZW4nKTtcblxuICAvL2dsb2JhbCB2YXJpYWJsZXMgZm9yIGJhZGdlc1xuICBjb25zdCAkYmFkZ2VzID0gJCgnLmJhZGdlJyk7XG4gIGNvbnN0ICRiYWRnZTEgPSAkKCcjYmFkZ2UxJyk7XG4gIGNvbnN0ICRiYWRnZTIgPSAkKCcjYmFkZ2UyJyk7XG4gIGNvbnN0ICRiYWRnZTMgPSAkKCcjYmFkZ2UzJyk7XG4gIGNvbnN0ICRiYWRnZTQgPSAkKCcjYmFkZ2U0Jyk7XG4gIGNvbnN0ICRiYWRnZTUgPSAkKCcjYmFkZ2U1Jyk7XG4gIGNvbnN0ICRiYWRnZTYgPSAkKCcjYmFkZ2U2Jyk7XG4gIGNvbnN0ICRiYWRnZTcgPSAkKCcjYmFkZ2U3Jyk7XG4gIGNvbnN0ICRiYWRnZTggPSAkKCcjYmFkZ2U4Jyk7XG5cbiAgLy8gdGltZXIgY29uc3RhbnRzXG4gIGxldCB0aW1lUmVtYWluaW5nID0gMjA7XG4gIGxldCB0aW1lcklkID0gbnVsbDtcbiAgbGV0IGRlbGF5ID0gMjAwO1xuXG4gIC8vIGdhbWUgbG9naWMgY29uc3RhbnRzXG4gIGxldCBnYW1lT24gPSBmYWxzZTtcblxuICAvL2dhbWUgc2NvcmUgY29uc3RhbnRzXG4gIGxldCB1c2VyU2NvcmUgPSAwO1xuICBsZXQgY2xpY2tTY29yZSA9IDA7XG4gIGxldCBvdHRlclNjb3JlID0gMDtcbiAgbGV0IGJlYXZlclNjb3JlID0gMDtcbiAgbGV0IGJsYW5rU2NvcmUgPSAwO1xuXG4gIC8vaGlnaCBzY29yZSBjb25zdGFudHNcbiAgbGV0IGhpZ2hzY29yZSA9IDA7XG4gIGxldCBoaWdoc2NvcmVGYXN0ZXN0Q2xpY2tUaW1lID0gMDtcbiAgbGV0IGhpZ2hzY29yZUF2ZXJhZ2VDbGlja1RpbWUgPSAwO1xuXG4gIC8vY2xpY2sgdGltZSBjb25zdGFudHNcbiAgbGV0IHRpbWVTaG93QW5pbWFsID0gMDtcbiAgbGV0IHVzZXJDbGlja0FuaW1hbCA9IDA7XG4gIGxldCBjbGlja1RpbWUgPSAwO1xuICBsZXQgdXNlclRpbWVBcnJheSA9IFtdO1xuICBsZXQgdXNlckZhc3Rlc3RDTGljayA9IDA7XG4gIGxldCB1c2VyQXZlcmFnZUNsaWNrVGltZSA9IDA7XG5cbiAgLy9mdW5jdGlvbiB0byBmaW5kIGNsaWNrIHRpbWVcbiAgY29uc3QgZmluZENsaWNrVGltZSA9IGZ1bmN0aW9uKCkge1xuICAgIGNsaWNrVGltZSA9ICgodXNlckNsaWNrQW5pbWFsIC0gdGltZVNob3dBbmltYWwpKTtcbiAgICByZXR1cm4gY2xpY2tUaW1lO1xuICB9O1xuICAvL2Z1bmN0aW9uIHRvIGZpbmQgdGhlIHBsYXllcnMgZmFzdGVzIGNsaWNrIHRpbWVcbiAgY29uc3QgZmluZFVzZXJGYXN0ZXN0Q0xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICB1c2VyRmFzdGVzdENMaWNrID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgdXNlclRpbWVBcnJheSk7XG4gICAgcmV0dXJuIHVzZXJGYXN0ZXN0Q0xpY2s7XG4gIH07XG4gIC8vZnVuY3Rpb24gdG8gZmluZCB0aGUgcGxheWVycyBhdmVyYWdlIGNsaWNrIHRpbWVcbiAgY29uc3QgZmluZFVzZXJBdmVyYWdlQ2xpY2tUaW1lID0gZnVuY3Rpb24oKSB7XG4gICAgY29uc3Qgc3VtID0gdXNlclRpbWVBcnJheS5yZWR1Y2UoZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIGEgKyBiO1xuICAgIH0sIDApO1xuICAgIHVzZXJBdmVyYWdlQ2xpY2tUaW1lID0gcGFyc2VJbnQoc3VtLyh1c2VyVGltZUFycmF5Lmxlbmd0aCkpO1xuICAgIHJldHVybiB1c2VyQXZlcmFnZUNsaWNrVGltZTtcbiAgfTtcbiAgLy8gcmVzZXQgZnVuY3Rpb25cbiAgY29uc3QgcmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAvL3VwZGF0ZSBmYXN0ZXN0IGNsaWNrIHRpbWUgYW5kIGZhc3Rlc3QgY2xpY2sgdGltZSBzY3JlZW5cbiAgICBpZiAodXNlckZhc3Rlc3RDTGljayA8IGhpZ2hzY29yZUZhc3Rlc3RDbGlja1RpbWUgfHwgaGlnaHNjb3JlRmFzdGVzdENsaWNrVGltZSA9PT0gMCkge1xuICAgICAgaGlnaHNjb3JlRmFzdGVzdENsaWNrVGltZSA9IHVzZXJGYXN0ZXN0Q0xpY2s7XG4gICAgICAkaGlnaGVzdHNjb3JlRmFzdGVzdENsaWNrU2NyZWVuLmh0bWwoaGlnaHNjb3JlRmFzdGVzdENsaWNrVGltZSk7XG4gICAgfVxuICAgIC8vdXBkYXRlIGZhc3Rlc3QgYXZlcmFnZSBjbGljayB0aW1lIGFuZCBmYXN0ZXN0IGF2ZXJhZ2UgY2xpY2sgdGltZSBzY3JlZW5cbiAgICBpZiAodXNlckF2ZXJhZ2VDbGlja1RpbWUgPCBoaWdoc2NvcmVBdmVyYWdlQ2xpY2tUaW1lIHx8IGhpZ2hzY29yZUF2ZXJhZ2VDbGlja1RpbWUgPT09IDApIHtcbiAgICAgIGhpZ2hzY29yZUF2ZXJhZ2VDbGlja1RpbWUgPSB1c2VyQXZlcmFnZUNsaWNrVGltZTtcbiAgICAgICRoaWdoZXN0c2NvcmVhdmVyYWdlQ0xpY2tTY3JlZW4uaHRtbChoaWdoc2NvcmVBdmVyYWdlQ2xpY2tUaW1lKTtcbiAgICB9XG4gICAgLy91cGRhdGUgaGlnaHNjb3JlIGFuZCBoaWdoc2NvcmUgc2NyZWVuXG4gICAgaWYgKHVzZXJTY29yZSA+IGhpZ2hzY29yZSkge1xuICAgICAgaGlnaHNjb3JlID0gdXNlclNjb3JlO1xuICAgICAgJGhpZ2hlc3RzY29yZVNjcmVlbi5odG1sKGhpZ2hzY29yZSk7XG4gICAgfVxuICAgIC8vcmVzZXQgYWxsIHNjb3Jlc1xuICAgIHVzZXJTY29yZSA9IDA7XG4gICAgY2xpY2tTY29yZSA9IDA7XG4gICAgb3R0ZXJTY29yZSA9IDA7XG4gICAgYmVhdmVyU2NvcmUgPSAwO1xuICAgIGNsaWNrU2NvcmUgPSAwO1xuICAgIC8vcmVzZXQgdXNlciBmYXN0ZXN0IGFuZCBhdmVyYWdlIGNsaWNrIHRpbWVcbiAgICB1c2VyVGltZUFycmF5ID0gW107XG4gICAgdXNlckZhc3Rlc3RDTGljayA9IDA7XG4gICAgdXNlckF2ZXJhZ2VDbGlja1RpbWUgPSAwO1xuICAgIC8vcmVzZXQgdGltZXIgYW5kIHVwZGF0ZSB0aW1lciBzY3JlZW5cbiAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xuICAgIHRpbWVSZW1haW5pbmcgPSAyMDtcbiAgICAvL2NsZWFyIGdhbWUgYm9hcmRcbiAgICAkc3F1YXJlcy5yZW1vdmVDbGFzcygnb3R0ZXIgYmVhdmVyJyk7XG4gICAgLy9jbGVhciBiYWRnZXMgZnJvbSBiYWRnZSBhcmVhXG4gICAgJGJhZGdlcy5yZW1vdmVDbGFzcygnYmFkZ2UxIGJhZGdlMiBiYWRnZTMgYmFkZ2U0IGJhZGdlNSBiYWRnZTYgYmFkZ2U3IGJhZGdlOCcpO1xuICB9O1xuXG5cbiAgLy9zdGFydCBnYW1lIHdoZW4gJ3N0YXJ0IGJ1dHRvbicgaXMgcHVzaGVkLCBvbmx5IGlmIGdhbWUgbm90IHN0YXJ0ZWRcbiAgJHBsYXkub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKGdhbWVPbiA9PT0gZmFsc2UpIHtcbiAgICAgIC8vcmVzZXQgZ2FtZVxuICAgICAgcmVzZXQoKTtcbiAgICAgIC8vc3RvcmUgdGhhdCBnYW1lIGhhcyBiZWVuIHN0YXJ0ZWRcbiAgICAgIGdhbWVPbiA9IHRydWU7XG4gICAgICAvL3J1biBmdW5jdGlvbiB0byBzaG93IGJlYXZlcnMgYW5kIG90dGVycyBmb3IgdGltZSBpbnRlcnZhbFxuICAgICAgc2hvd0FuaW1hbHMoKTtcbiAgICAgIC8vc3RhcnQgdGltZXJcbiAgICAgIHRpbWVySWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHRpbWVSZW1haW5pbmctLTtcbiAgICAgICAgJHRpbWVyU2NyZWVuLmh0bWwodGltZVJlbWFpbmluZyk7XG4gICAgICAgIC8vIHdoZW4gdGltZXIgcmVhY2hlcyB6ZXJvIHN0b3AgZ2FtZVxuICAgICAgICBpZiAodGltZVJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICR0aW1lclNjcmVlbi5hZGRUZW1wb3JhcnlDbGFzcygncmluZ2luZycsIDIwMDApO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XG4gICAgICAgICAgZ2FtZU9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfSk7XG5cblxuICAvL3NlbGVjdCByYW5kb20gc3F1YXJlXG4gIGNvbnN0IHNlbGVjdFJhbmRvbVNxdWFyZSA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogJHNxdWFyZXMubGVuZ3RoKTtcbiAgICByZXR1cm4gJHNxdWFyZXMuZXEocmFuZG9tSW5kZXgpO1xuICB9O1xuXG4gIC8vIHJhbmRvbWlzZSB3aGljaCBhbmltYWwgdG8gY2FsbCAoY3VycmVubHR5IG90dGVyIG9yIGJlYXZlciksIGJ1dCBwcmVmZXIgYmVhdmVyXG4gIGNvbnN0IHJhbmRvbUFuaW1hbCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoTWF0aC5yYW5kb20oKSAqICgxMDAgLSAxKSArIDEpIDwgMzAgPyAnb3R0ZXInIDogJ2JlYXZlcic7XG4gIH07XG5cbiAgLy9hZGQgYmVhdmVyL290dGVyIGNsYXNzIHRvIHJhbmRvbSBzcXVhcmUsIHRoZW4gY2FsbCBmdW5jdGlvbiBhZ2FpbiBhdCBhbiByYW5kb20gaW50ZXJ2YWwgKGJldHdlZW4gMyBhbmQgMSBzZWNvbmQpXG4gIGNvbnN0IHNob3dBbmltYWxzID0gZnVuY3Rpb24oKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZWxlY3RSYW5kb21TcXVhcmUoKS5hZGRUZW1wb3JhcnlDbGFzcyhyYW5kb21BbmltYWwoKSwgMTAwMCk7XG4gICAgICBkZWxheSA9IE1hdGgucmFuZG9tKCkgKiAxMDAwICogKDIuNSAtIDEpICsgMTtcbiAgICAgIC8vb25seSBzaG93IGFuaW1hbHMgaWYgZ2FtZSBoYXMgYmVlbiBzdGFydGVkIGFuZCBjb3VudGRvd24gdGltZXIgaGFzIG5vdCBydW4gb3V0XG4gICAgICBpZiAoZ2FtZU9uID09PSB0cnVlKSB7XG4gICAgICAgIHRpbWVTaG93QW5pbWFsID0gJC5ub3coKTtcbiAgICAgICAgc2hvd0FuaW1hbHMoKTtcbiAgICAgIH1cbiAgICB9LCBkZWxheSk7XG4gIH07XG5cbiAgLy8gY2hlY2sgYW5kIHNob3cgYmFkZ2VzIGlmIHBsYXllcidzIHNjb3JlcyBhcmUgaGlnaCBlbm91Z2hcbiAgY29uc3QgY2hlY2tBbmRTaG93QmFkZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGJlYXZlclNjb3JlID4gNSkge1xuICAgICAgJGJhZGdlMS5hZGRDbGFzcygnYmFkZ2UxJyk7XG4gICAgfVxuICAgIGlmIChiZWF2ZXJTY29yZSA+IDEwKSB7XG4gICAgICAkYmFkZ2UyLmFkZENsYXNzKCdiYWRnZTInKTtcbiAgICB9XG4gICAgaWYgKGJlYXZlclNjb3JlID4gMjApIHtcbiAgICAgICRiYWRnZTMuYWRkQ2xhc3MoJ2JhZGdlMycpO1xuICAgIH1cbiAgICBpZiAoYmVhdmVyU2NvcmUgPiA1MCkge1xuICAgICAgJGJhZGdlNC5hZGRDbGFzcygnYmFkZ2U0Jyk7XG4gICAgfVxuICAgIGlmIChvdHRlclNjb3JlID4gNSkge1xuICAgICAgJGJhZGdlNS5hZGRDbGFzcygnYmFkZ2U1Jyk7XG4gICAgfVxuICAgIGlmIChvdHRlclNjb3JlID4gMTApIHtcbiAgICAgICRiYWRnZTYuYWRkQ2xhc3MoJ2JhZGdlNicpO1xuICAgIH1cbiAgICBpZiAoYmxhbmtTY29yZSA+IDEwKSB7XG4gICAgICAkYmFkZ2U3LmFkZENsYXNzKCdiYWRnZTcnKTtcbiAgICB9XG4gICAgaWYgKHVzZXJTY29yZSA+IGhpZ2hzY29yZSkge1xuICAgICAgJGJhZGdlOC5hZGRDbGFzcygnYmFkZ2U4Jyk7XG4gICAgfVxuICB9O1xuXG4gIC8vZ2FtZSBsb2dpYyBmb3IgdXNlciBjbGlja2luZyBvbiBiZWF2ZXJzL290dGVycy9lbXB0eSBzcXVhcmVcbiAgJGdhbWVob2xkZXIub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIHVzZXJDbGlja0FuaW1hbCA9ICQubm93KCk7XG4gICAgaWYgKGdhbWVPbiA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKCQoZS50YXJnZXQpLmhhc0NsYXNzKCdiZWF2ZXInKSkge1xuICAgICAgICAvL3VwZGF0ZSBzY29yZXNcbiAgICAgICAgY2xpY2tTY29yZSA9IDIwO1xuICAgICAgICB1c2VyU2NvcmUgKz0gMjA7XG4gICAgICAgIGJlYXZlclNjb3JlICs9IDE7XG4gICAgICAgIC8vc2hvdyBiYWRnZXNcbiAgICAgICAgY2hlY2tBbmRTaG93QmFkZ2VzKCk7XG4gICAgICAgIC8vaGlkZSBhbmltYWwgYnkgcmVtb3ZpbmcgY2xhc3NcbiAgICAgICAgKCQoZS50YXJnZXQpLnJlbW92ZUNsYXNzKCdiZWF2ZXInKSk7XG4gICAgICAgIC8vbWFrZSBzb3VuZCAobm90IGluY2x1ZGVkIHlldClcbiAgICAgIH0gZWxzZSBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJ290dGVyJykpIHtcbiAgICAgICAgY2xpY2tTY29yZSA9IC0xMDtcbiAgICAgICAgdXNlclNjb3JlIC09IDIwO1xuICAgICAgICBvdHRlclNjb3JlICs9IDE7XG4gICAgICAgIGNoZWNrQW5kU2hvd0JhZGdlcygpO1xuICAgICAgICAoJChlLnRhcmdldCkucmVtb3ZlQ2xhc3MoJ290dGVyJykpO1xuICAgICAgICAvL21ha2Ugc291bmQgKG5vdCBpbmNsdWRlZCB5ZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGlja1Njb3JlID0gLTU7XG4gICAgICAgIHVzZXJTY29yZSAtPSA1O1xuICAgICAgICBibGFua1Njb3JlICs9IDE7XG4gICAgICAgIC8vbWFrZSBzb3VuZCAobm90IGluY2x1ZGVkIHlldClcbiAgICAgIH1cbiAgICAgIC8vc2hvdyB1c2VycyBjdXJyZW50IHNjb3JlLCBydW5uaW5nIHRvdGFsIGFuZCBjbGljayB0aW1lXG4gICAgICAkY2xpY2tTY29yZVNjcmVlbi50ZXh0KGNsaWNrU2NvcmUpO1xuICAgICAgJHVzZXJTY29yZVNjcmVlbi50ZXh0KHVzZXJTY29yZSk7XG4gICAgICAvL3N0b3JlIHVzZXJzIHRpbWUgZGlmZmVyZW5jZSBpbiBhcnJheVxuICAgICAgdXNlclRpbWVBcnJheS5wdXNoKGZpbmRDbGlja1RpbWUoKSk7XG4gICAgICAvL3Nob3cgY2xpY2sgdGltZSB0byB1c2Vyc1xuICAgICAgJGNsaWNrVGltZURpZmZlcmVuY2VTY3JlZW4udGV4dChmaW5kQ2xpY2tUaW1lKCkpO1xuICAgICAgLy9maW5kIGFuZCBzaG93IHVzZXJzIGZhc3Rlc3QgY2xpY2sgdGltZVxuICAgICAgJGZhc3Rlc3RDbGlja1NjcmVlbi50ZXh0KGZpbmRVc2VyRmFzdGVzdENMaWNrKCkpO1xuICAgICAgLy9maW5kIGFuZCBzaG93IHVzZXJzIGF2ZXJhZ2UgY2xpY2sgdGltZVxuICAgICAgJGF2ZXJhZ2VDTGlja1NjcmVlbi50ZXh0KGZpbmRVc2VyQXZlcmFnZUNsaWNrVGltZSgpKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vY3JlYXRlICdhZGRUZW1wb3JhcnlDbGFzcycgZnVuY3Rpb25cbiAgKGZ1bmN0aW9uKCQpIHtcbiAgICAkLmZuLmV4dGVuZCh7XG4gICAgICBhZGRUZW1wb3JhcnlDbGFzczogZnVuY3Rpb24oY2xhc3NOYW1lLCBkdXJhdGlvbikge1xuICAgICAgICB2YXIgZWxlbWVudHMgPSB0aGlzO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnRzLnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgIH0sIGR1cmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KShqUXVlcnkpO1xufSk7XG4iXX0=
