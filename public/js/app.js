"use strict";$(function(){console.log("Ready.");var e=$(".gameholder"),a=$(".square"),t=$("#play"),n=$("#timerScreen"),r=$("#clickScoreScreen"),s=$("#userScoreScreen"),o=$("#timeDifferenceScreen"),d=$("#fastestClickScreen"),c=$("#averageCLickScreen"),l=$("#highscoreScreen"),g=$(".highscoreFastestClickScreen"),i=$("#highscoreAverageCLickScreen"),u=$(".badge"),b=$("#badge1"),h=$("#badge2"),f=$("#badge3"),C=$("#badge4"),m=$("#badge5"),v=$("#badge6"),S=$("#badge7"),k=$("#badge8"),x=20,y=null,M=200,p=!1,T=0,I=0,q=0,w=0,L=0,j=0,A=0,D=0,F=0,Q=0,R=0,z=[],B=0,E=0,G=function(){return R=Q-F},H=function(){return B=Math.min(z)},J=function(){return E=z.reduce(function(e,a){z.length},0)},K=function(){T>j&&(j=T,l.html(j)),B>A&&(A=B,g.html(j)),E>D&&(D=E,i.html(j)),T=0,I=0,q=0,w=0,I=0,B=0,E=0,clearInterval(y),x=20,a.removeClass("otter beaver"),u.removeClass("badge1 badge2 badge3 badge4 badge5 badge6 badge7 badge8")};t.on("click",function(){!1===p&&(K(),p=!0,P(),y=setInterval(function(){x--,n.html(x),0===x&&(clearInterval(y),p=!1)},1e3))});var N=function(){var e=Math.floor(Math.random()*a.length);return a.eq(e)},O=function(){return 99*Math.random()+1<30?"otter":"beaver"},P=function e(){setTimeout(function(){N().addTemporaryClass(O(),1e3),M=1e3*Math.random()*2+1,!0===p&&(F=$.now(),console.log(F),e())},M)},U=function(){w>5&&b.addClass("badge1"),w>10&&h.addClass("badge2"),w>20&&f.addClass("badge3"),w>50&&C.addClass("badge4"),q>5&&m.addClass("badge5"),q>10&&v.addClass("badge6"),L>10&&S.addClass("badge7"),T>j&&k.addClass("badge8")};e.on("click",function(e){Q=$.now(),console.log(Q),!0===p&&($(e.target).hasClass("beaver")?(I=20,T+=20,w+=1,U(),$(e.target).removeClass("beaver")):$(e.target).hasClass("otter")?(I=-10,T-=20,q+=1,U(),$(e.target).removeClass("otter")):(I=-5,T-=5,L+=1),r.text(I),s.text(T),z.push(R),o.text(G()),d.text(H()),c.text(J()))}),function(e){e.fn.extend({addTemporaryClass:function(a,t){var n=this;return setTimeout(function(){n.removeClass(a)},t),this.each(function(){e(this).addClass(a)})}})}(jQuery)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiY29uc29sZSIsImxvZyIsIiRzcXVhcmVzIiwiJGdhbWVob2xkZXIiLCIkY2xpY2tTY29yZVNjcmVlbiIsIiR1c2VyU2NvcmVTY3JlZW4iLCIkY2xpY2tUaW1lRGlmZmVyZW5jZVNjcmVlbiIsIiRmYXN0ZXN0Q2xpY2tTY3JlZW4iLCIkaGlnaGVzdHNjb3JlU2NyZWVuIiwiJGhpZ2hlc3RzY29yZUZhc3Rlc3RDbGlja1NjcmVlbiIsIiRiYWRnZXMiLCIkYmFkZ2UxIiwiJGJhZGdlMiIsIiRiYWRnZTMiLCIkYmFkZ2U0IiwiJGJhZGdlNSIsIiRiYWRnZTYiLCJ0aW1lUmVtYWluaW5nIiwidGltZXJJZCIsImdhbWVPbiIsInVzZXJTY29yZSIsImNsaWNrU2NvcmUiLCJvdHRlclNjb3JlIiwiaGlnaHNjb3JlIiwiaGlnaHNjb3JlRmFzdGVzdENsaWNrVGltZSIsInRpbWVTaG93QW5pbWFsIiwidXNlckNsaWNrQW5pbWFsIiwiY2xpY2tUaW1lIiwidXNlclRpbWVBcnJheSIsImZpbmRDbGlja1RpbWUiLCJmaW5kVXNlckZhc3Rlc3RDTGljayIsInVzZXJGYXN0ZXN0Q0xpY2siLCJNYXRoIiwibWluIiwiZmluZFVzZXJBdmVyYWdlQ2xpY2tUaW1lIiwidXNlckF2ZXJhZ2VDbGlja1RpbWUiLCJyZWR1Y2UiLCJhIiwiYiIsInJlc2V0IiwiaGlnaHNjb3JlQXZlcmFnZUNsaWNrVGltZSIsIiRoaWdoZXN0c2NvcmVhdmVyYWdlQ0xpY2tTY3JlZW4iLCIkcGxheSIsIm9uIiwic2hvd0FuaW1hbHMiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJzZWxlY3RSYW5kb21TcXVhcmUiLCJyYW5kb21JbmRleCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwiZXEiLCJyYW5kb21BbmltYWwiLCJzZXRUaW1lb3V0IiwiYWRkVGVtcG9yYXJ5Q2xhc3MiLCJkZWxheSIsIm5vdyIsImNoZWNrQW5kU2hvd0JhZGdlcyIsImJlYXZlclNjb3JlIiwiYWRkQ2xhc3MiLCJibGFua1Njb3JlIiwiJGJhZGdlNyIsIiRiYWRnZTgiLCJlIiwidGFyZ2V0IiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInRleHQiLCJwdXNoIiwiJGF2ZXJhZ2VDTGlja1NjcmVlbiIsImZuIiwiZXh0ZW5kIiwiY2xhc3NOYW1lIiwiZHVyYXRpb24iLCJlbGVtZW50cyIsInRoaXMiLCJlYWNoIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiWUFBQUEsR0FBRSxXQUNBQyxRQUFRQyxJQUFJLFNBQVpELElBQUFBLEdBQUFELEVBQUEsZUFDQUcsRUFBQUgsRUFBQSxXQUNNSSxFQUFBQSxFQUFBQSxTQUNBRCxFQUFhSCxFQUFBLGdCQUtiSyxFQUFvQkwsRUFBRSxxQkFENUJNLEVBQUFOLEVBQUEsb0JBS01PLEVBQTZCUCxFQUFFLHlCQURyQ1EsRUFBQVIsRUFBQSx1QkFDTU8sRUFBQUEsRUFBQUEsdUJBS0FFLEVBQXNCVCxFQUFFLG9CQUQ5QlUsRUFBQVYsRUFBQSxnQ0FDTVMsRUFBd0JULEVBQUEsZ0NBS3hCVyxFQUFVWCxFQUFFLFVBRGxCWSxFQUFBWixFQUFBLFdBQ01XLEVBQVlYLEVBQUEsV0FDWlksRUFBWVosRUFBQSxXQUNaYSxFQUFZYixFQUFBLFdBQ1pjLEVBQVlkLEVBQUEsV0FDWmUsRUFBWWYsRUFBQSxXQUNaZ0IsRUFBWWhCLEVBQUEsV0FDWmlCLEVBQVlqQixFQUFBLFdBS2RrQixFQUFnQixHQURwQkMsRUFBQSxLQUNJRCxFQUFBQSxJQUtBRSxHQUFTLEVBR1RDLEVBQVksRUFEaEJDLEVBQUEsRUFDSUQsRUFBSixFQUNJQyxFQUFKLEVBQ0lDLEVBQWEsRUFLYkMsRUFBWSxFQURoQkMsRUFBQSxFQUNJRCxFQUFKLEVBS0lFLEVBQWlCLEVBRHJCQyxFQUFBLEVBQ0lELEVBQUFBLEVBQ0FDLEtBQ0FDLEVBQUosRUFDSUMsRUFBSixFQUtNQyxFQUFnQixXQUF0QixNQURBRixHQUFBRCxFQUFBRCxHQUNBSyxFQUFBLFdBS0EsTUFEQUMsR0FBQUMsS0FBQUMsSUFBQUwsSUFDQU0sRUFBQSxXQU9LLE1BSExDLEdBQUFQLEVBQUFRLE9BQUEsU0FBQUMsRUFBQUMsR0FDTUosRUFBQUEsUUFDSkMsSUFERkksRUFBQSxXQU9NQSxFQUFRaEIsSUFDWkEsRUFBQUgsRUFDQVosRUFBZ0JlLEtBQVdBLElBRzFCUSxFQUFBUCxJQUNEQSxFQUFBTyxFQUNBdEIsRUFBdUJlLEtBQUFBLElBR3RCVyxFQUFBSyxJQUNEQSxFQUFBTCxFQUNBTSxFQUEyQkQsS0FBQUEsSUFHMUJwQixFQUFBLEVBQ0RDLEVBQUEsRUFDQUQsRUFBQSxFQUNBQyxFQUFBLEVBQ0FDLEVBQWEsRUFFYkQsRUFBQSxFQUNBYyxFQUFBLEVBRUFBLGNBQUFBLEdBQ0FsQixFQUFBLEdBRUFBLEVBQUFBLFlBQUEsZ0JBRUFmLEVBQUFBLFlBQUEsMkRBTUZ3QyxHQUFBQyxHQUFBLFFBQUEsWUFDQSxJQUFNQSxJQUVGSixJQUVBcEIsR0FBQSxFQUVBeUIsSUFFQTFCLEVBQUEyQixZQUFBLFdBQ0EzQixJQUNFRCxFQUFBQSxLQUFBQSxHQUVBLElBQUFBLElBQ0E2QixjQUFJN0IsR0FDRjZCLEdBQUFBLElBRUQsT0FPUCxJQUFNQyxHQUFxQixXQUN6QixHQUFNQyxHQUFjaEIsS0FBS2lCLE1BQU1qQixLQUFLa0IsU0FBV2hELEVBQVNpRCxPQUN4RCxPQUFPakQsR0FBU2tELEdBQUdKLElBSWZLLEVBQWUsV0FDbkIsTUFBUXJCLElBQUFBLEtBQUtrQixTQUFOLEVBQUEsR0FBdUMsUUFBVSxVQUlwRE4sRUFBYyxRQUFkQSxLQUNKVSxXQUFXLFdBQ1RQLElBQXFCUSxrQkFBa0JGLElBQWdCLEtBQ3ZERyxFQUF3QixJQUFoQnhCLEtBQUtrQixTQUFMbEIsRUFBaUMsR0FFMUIsSUFBWGIsSUFDRk0sRUFBaUIxQixFQUFFMEQsTUFDbkJ6RCxRQUFRQyxJQUFJd0IsR0FDWm1CLE1BRURZLElBSUNFLEVBQXFCLFdBQ3JCQyxFQUFjLEdBQ2hCaEQsRUFBUWlELFNBQVMsVUFFZkQsRUFBYyxJQUNoQi9DLEVBQVFnRCxTQUFTLFVBRWZELEVBQWMsSUFDaEI5QyxFQUFRK0MsU0FBUyxVQUVmRCxFQUFjLElBQ2hCN0MsRUFBUThDLFNBQVMsVUFFZnRDLEVBQWEsR0FDZlAsRUFBUTZDLFNBQVMsVUFFZnRDLEVBQWEsSUFDZk4sRUFBUTRDLFNBQVMsVUFFZkMsRUFBYSxJQUNmQyxFQUFRRixTQUFTLFVBRWZ4QyxFQUFZRyxHQUNkd0MsRUFBUUgsU0FBUyxVQUtyQnpELEdBQVl3QyxHQUFHLFFBQVMsU0FBQXFCLEdBQ3RCdEMsRUFBa0IzQixFQUFFMEQsTUFDcEJ6RCxRQUFRQyxJQUFJeUIsSUFDRyxJQUFYUCxJQUNFcEIsRUFBRWlFLEVBQUVDLFFBQVFDLFNBQVMsV0FFdkI3QyxFQUFhLEdBQ2JELEdBQWEsR0FDYnVDLEdBQWUsRUFFZkQsSUFFQzNELEVBQUVpRSxFQUFFQyxRQUFRRSxZQUFZLFdBRWhCcEUsRUFBRWlFLEVBQUVDLFFBQVFDLFNBQVMsVUFDOUI3QyxHQUFjLEdBQ2RELEdBQWEsR0FDYkUsR0FBYyxFQUNkb0MsSUFDQzNELEVBQUVpRSxFQUFFQyxRQUFRRSxZQUFZLFdBR3pCOUMsR0FBYyxFQUNkRCxHQUFhLEVBQ2J5QyxHQUFjLEdBSWhCekQsRUFBa0JnRSxLQUFLL0MsR0FDdkJoQixFQUFpQitELEtBQUtoRCxHQUV0QlEsRUFBY3lDLEtBQUsxQyxHQUVuQnJCLEVBQTJCOEQsS0FBS3ZDLEtBRWhDdEIsRUFBb0I2RCxLQUFLdEMsS0FFekJ3QyxFQUFvQkYsS0FBS2xDLFFBSzdCLFNBQUNuQyxHQUNDQSxFQUFFd0UsR0FBR0MsUUFDSGpCLGtCQUFtQixTQUFBa0IsRUFBQUMsR0FDakIsR0FBSUMsR0FBV0MsSUFJZixPQUhBdEIsWUFBVyxXQUNUcUIsRUFBU1IsWUFBWU0sSUFDcEJDLEdBQ0lFLEtBQUtDLEtBQUssV0FDZjlFLEVBQUU2RSxNQUFNaEIsU0FBU2EsU0FJdEJLIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBjb25zb2xlLmxvZygnUmVhZHkuJyk7XG4gIC8vZGVmaW5lIGdsb2JhbCB2YXJpYWJsZXNcbiAgY29uc3QgJGdhbWVob2xkZXIgPSAkKCcuZ2FtZWhvbGRlcicpO1xuICBjb25zdCAkc3F1YXJlcyA9ICQoJy5zcXVhcmUnKTtcbiAgY29uc3QgJHBsYXkgPSAkKCcjcGxheScpO1xuICBjb25zdCAkdGltZXJTY3JlZW4gPSAkKCcjdGltZXJTY3JlZW4nKTtcblxuICAvL2dsb2JhbCB2YWlhYmxlcyBmb3IgdXNlciBzY29yZXNcbiAgY29uc3QgJGNsaWNrU2NvcmVTY3JlZW4gPSAkKCcjY2xpY2tTY29yZVNjcmVlbicpO1xuICBjb25zdCAkdXNlclNjb3JlU2NyZWVuID0gJCgnI3VzZXJTY29yZVNjcmVlbicpO1xuXG4gIC8vZ2xvYmFsIHZhaXJhYmxlcyBmb3IgdXNlciBjbGljayB0aW1lc1xuICBjb25zdCAkY2xpY2tUaW1lRGlmZmVyZW5jZVNjcmVlbiA9ICQoJyN0aW1lRGlmZmVyZW5jZVNjcmVlbicpO1xuICBjb25zdCAkZmFzdGVzdENsaWNrU2NyZWVuID0gJCgnI2Zhc3Rlc3RDbGlja1NjcmVlbicpO1xuICBjb25zdCAkYXZlcmFnZUNMaWNrU2NyZWVuID0gJCgnI2F2ZXJhZ2VDTGlja1NjcmVlbicpO1xuXG4gIC8vZ2xvYmFsIHZhcmlhYmxlcyBmb3IgdG9wc2NvcmVzXG4gIGNvbnN0ICRoaWdoZXN0c2NvcmVTY3JlZW4gPSAkKCcjaGlnaHNjb3JlU2NyZWVuJyk7XG4gIGNvbnN0ICRoaWdoZXN0c2NvcmVGYXN0ZXN0Q2xpY2tTY3JlZW4gPSAkKCcuaGlnaHNjb3JlRmFzdGVzdENsaWNrU2NyZWVuJyk7XG4gIGNvbnN0ICRoaWdoZXN0c2NvcmVhdmVyYWdlQ0xpY2tTY3JlZW4gPSAkKCcjaGlnaHNjb3JlQXZlcmFnZUNMaWNrU2NyZWVuJyk7XG5cbiAgLy9nbG9iYWwgdmFyaWFibGVzIGZvciBiYWRnZXNcbiAgY29uc3QgJGJhZGdlcyA9ICQoJy5iYWRnZScpO1xuICBjb25zdCAkYmFkZ2UxID0gJCgnI2JhZGdlMScpO1xuICBjb25zdCAkYmFkZ2UyID0gJCgnI2JhZGdlMicpO1xuICBjb25zdCAkYmFkZ2UzID0gJCgnI2JhZGdlMycpO1xuICBjb25zdCAkYmFkZ2U0ID0gJCgnI2JhZGdlNCcpO1xuICBjb25zdCAkYmFkZ2U1ID0gJCgnI2JhZGdlNScpO1xuICBjb25zdCAkYmFkZ2U2ID0gJCgnI2JhZGdlNicpO1xuICBjb25zdCAkYmFkZ2U3ID0gJCgnI2JhZGdlNycpO1xuICBjb25zdCAkYmFkZ2U4ID0gJCgnI2JhZGdlOCcpO1xuXG4gIC8vIHRpbWVyIGNvbnN0YW50c1xuICBsZXQgdGltZVJlbWFpbmluZyA9IDIwO1xuICBsZXQgdGltZXJJZCA9IG51bGw7XG4gIGxldCBkZWxheSA9IDIwMDtcblxuICAvLyBnYW1lIGxvZ2ljIGNvbnN0YW50c1xuICBsZXQgZ2FtZU9uID0gZmFsc2U7XG5cbiAgLy9nYW1lIHNjb3JlIG9uc3RhbnRzXG4gIGxldCB1c2VyU2NvcmUgPSAwO1xuICBsZXQgY2xpY2tTY29yZSA9IDA7XG4gIGxldCBvdHRlclNjb3JlID0gMDtcbiAgbGV0IGJlYXZlclNjb3JlID0gMDtcbiAgbGV0IGJsYW5rU2NvcmUgPSAwO1xuXG4gIC8vaGlnaCBzY29yZSBjb25zdGFudHNcbiAgbGV0IGhpZ2hzY29yZSA9IDA7XG4gIGxldCBoaWdoc2NvcmVGYXN0ZXN0Q2xpY2tUaW1lID0gMDtcbiAgbGV0IGhpZ2hzY29yZUF2ZXJhZ2VDbGlja1RpbWUgPSAwO1xuXG4gIC8vY2xpY2sgdGltZSBjb25zdGFudHNcbiAgbGV0IHRpbWVTaG93QW5pbWFsID0gMDtcbiAgbGV0IHVzZXJDbGlja0FuaW1hbCA9IDA7XG4gIGxldCBjbGlja1RpbWUgPSAwO1xuICBsZXQgdXNlclRpbWVBcnJheSA9IFtdO1xuICBsZXQgdXNlckZhc3Rlc3RDTGljayA9IDA7XG4gIGxldCB1c2VyQXZlcmFnZUNsaWNrVGltZSA9IDA7XG5cbiAgLy9mdW5jdGlvbiB0byBmaW5kIGNsaWNrIHRpbWVcbiAgY29uc3QgZmluZENsaWNrVGltZSA9IGZ1bmN0aW9uKCkge1xuICAgIGNsaWNrVGltZSA9ICgodXNlckNsaWNrQW5pbWFsIC0gdGltZVNob3dBbmltYWwpKTtcbiAgICByZXR1cm4gY2xpY2tUaW1lO1xuICB9O1xuICAvL2Z1bmN0aW9uIHRvIGZpbmQgdGhlIHBsYXllcnMgZmFzdGVzIGNsaWNrIHRpbWVcbiAgY29uc3QgZmluZFVzZXJGYXN0ZXN0Q0xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICB1c2VyRmFzdGVzdENMaWNrID0gTWF0aC5taW4odXNlclRpbWVBcnJheSk7XG4gICAgcmV0dXJuIHVzZXJGYXN0ZXN0Q0xpY2s7XG4gIH07XG4gIC8vZnVuY3Rpb24gdG8gZmluZCB0aGUgcGxheWVycyBhdmVyYWdlIGNsaWNrIHRpbWVcbiAgY29uc3QgZmluZFVzZXJBdmVyYWdlQ2xpY2tUaW1lID0gZnVuY3Rpb24oKSB7XG4gICAgdXNlckF2ZXJhZ2VDbGlja1RpbWUgPSB1c2VyVGltZUFycmF5LnJlZHVjZShmdW5jdGlvbihhLCBiKSB7XG4gICAgICAoKGEgKyBiKSAvICh1c2VyVGltZUFycmF5Lmxlbmd0aCkpO1xuICAgIH0sIDApO1xuICAgIHJldHVybiB1c2VyQXZlcmFnZUNsaWNrVGltZTtcbiAgfTtcbiAgLy8gcmVzZXQgZnVuY3Rpb25cbiAgY29uc3QgcmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAvL3VwZGF0ZSBoaWdoc2NvcmUgYW5kIGhpZ2hzY29yZSBzY3JlZW5cbiAgICBpZiAodXNlclNjb3JlID4gaGlnaHNjb3JlKSB7XG4gICAgICBoaWdoc2NvcmUgPSB1c2VyU2NvcmU7XG4gICAgICAkaGlnaGVzdHNjb3JlU2NyZWVuLmh0bWwoaGlnaHNjb3JlKTtcbiAgICB9XG4gICAgLy91cGRhdGUgZmFzdGVzdCBjbGljayB0aW1lIGFuZCBmYXN0ZXN0IGNsaWNrIHRpbWUgc2NyZWVuXG4gICAgaWYgKHVzZXJGYXN0ZXN0Q0xpY2sgPiBoaWdoc2NvcmVGYXN0ZXN0Q2xpY2tUaW1lKSB7XG4gICAgICBoaWdoc2NvcmVGYXN0ZXN0Q2xpY2tUaW1lID0gdXNlckZhc3Rlc3RDTGljaztcbiAgICAgICRoaWdoZXN0c2NvcmVGYXN0ZXN0Q2xpY2tTY3JlZW4uaHRtbChoaWdoc2NvcmUpO1xuICAgIH1cbiAgICAvL3VwZGF0ZSBmYXN0ZXN0IGF2ZXJhZ2UgY2xpY2sgdGltZSBhbmQgZmFzdGVzdCBhdmVyYWdlIGNsaWNrIHRpbWUgc2NyZWVuXG4gICAgaWYgKHVzZXJBdmVyYWdlQ2xpY2tUaW1lID4gaGlnaHNjb3JlQXZlcmFnZUNsaWNrVGltZSkge1xuICAgICAgaGlnaHNjb3JlQXZlcmFnZUNsaWNrVGltZSA9IHVzZXJBdmVyYWdlQ2xpY2tUaW1lO1xuICAgICAgJGhpZ2hlc3RzY29yZWF2ZXJhZ2VDTGlja1NjcmVlbi5odG1sKGhpZ2hzY29yZSk7XG4gICAgfVxuICAgIC8vcmVzZXQgYWxsIHNjb3Jlc1xuICAgIHVzZXJTY29yZSA9IDA7XG4gICAgY2xpY2tTY29yZSA9IDA7XG4gICAgb3R0ZXJTY29yZSA9IDA7XG4gICAgYmVhdmVyU2NvcmUgPSAwO1xuICAgIGNsaWNrU2NvcmUgPSAwO1xuICAgIC8vcmVzZXQgdXNlciBmYXN0ZXN0IGFuZCBhdmVyYWdlIGNsaWNrIHRpbWVcbiAgICB1c2VyRmFzdGVzdENMaWNrID0gMDtcbiAgICB1c2VyQXZlcmFnZUNsaWNrVGltZSA9IDA7XG4gICAgLy9yZXNldCB0aW1lciBhbmQgdXBkYXRlIHRpbWVyIHNjcmVlblxuICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XG4gICAgdGltZVJlbWFpbmluZyA9IDIwO1xuICAgIC8vY2xlYXIgZ2FtZSBib2FyZFxuICAgICRzcXVhcmVzLnJlbW92ZUNsYXNzKCdvdHRlciBiZWF2ZXInKTtcbiAgICAvL2NsZWFyIGJhZGdlcyAoY2hlY2sgaG93IHRoaXMgd29ya3MpXG4gICAgJGJhZGdlcy5yZW1vdmVDbGFzcygnYmFkZ2UxIGJhZGdlMiBiYWRnZTMgYmFkZ2U0IGJhZGdlNSBiYWRnZTYgYmFkZ2U3IGJhZGdlOCcpO1xuICB9O1xuXG5cbiAgLy9zdGFydCBnYW1lIHdoZW4gJ3N0YXJ0IGJ1dHRvbicgaXMgcHVzaGVkLCBvbmx5IGlmIGdhbWUgbm90IHN0YXJ0ZWRcbiAgJHBsYXkub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKGdhbWVPbiA9PT0gZmFsc2UpIHtcbiAgICAgIC8vcmVzZXQgZ2FtZVxuICAgICAgcmVzZXQoKTtcbiAgICAgIC8vc3RvcmUgdGhhdCBnYW1lIGhhcyBiZWVuIHN0YXJ0ZWRcbiAgICAgIGdhbWVPbiA9IHRydWU7XG4gICAgICAvL3J1biBmdW5jdGlvbiB0byBzaG93IGJlYXZlcnMgYW5kIG90dGVycyBmb3IgdGltZSBpbnRlcnZhbFxuICAgICAgc2hvd0FuaW1hbHMoKTtcbiAgICAgIC8vc3RhcnQgdGltZXJcbiAgICAgIHRpbWVySWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHRpbWVSZW1haW5pbmctLTtcbiAgICAgICAgJHRpbWVyU2NyZWVuLmh0bWwodGltZVJlbWFpbmluZyk7XG4gICAgICAgIC8vIHdoZW4gdGltZXIgcmVhY2hlcyB6ZXJvIHN0b3AgZ2FtZVxuICAgICAgICBpZiAodGltZVJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XG4gICAgICAgICAgZ2FtZU9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfSk7XG5cblxuICAvL3NlbGVjdCByYW5kb20gc3F1YXJlXG4gIGNvbnN0IHNlbGVjdFJhbmRvbVNxdWFyZSA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogJHNxdWFyZXMubGVuZ3RoKTtcbiAgICByZXR1cm4gJHNxdWFyZXMuZXEocmFuZG9tSW5kZXgpO1xuICB9O1xuXG4gIC8vIHJhbmRvbWlzZSB3aGljaCBhbmltYWwgdG8gY2FsbCAoY3VycmVubHR5IG90dGVyIG9yIGJlYXZlciksIGJ1dCBwcmVmZXIgYmVhdmVyXG4gIGNvbnN0IHJhbmRvbUFuaW1hbCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoTWF0aC5yYW5kb20oKSAqICgxMDAgLSAxKSArIDEpIDwgMzAgPyAnb3R0ZXInIDogJ2JlYXZlcic7XG4gIH07XG5cbiAgLy9hZGQgYmVhdmVyL290dGVyIGNsYXNzIHRvIHJhbmRvbSBzcXVhcmUsIHRoZW4gY2FsbCBmdW5jdGlvbiBhZ2FpbiBhdCBhbiByYW5kb20gaW50ZXJ2YWwgKGJldHdlZW4gMyBhbmQgMSBzZWNvbmQpXG4gIGNvbnN0IHNob3dBbmltYWxzID0gZnVuY3Rpb24oKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZWxlY3RSYW5kb21TcXVhcmUoKS5hZGRUZW1wb3JhcnlDbGFzcyhyYW5kb21BbmltYWwoKSwgMTAwMCk7XG4gICAgICBkZWxheSA9IE1hdGgucmFuZG9tKCkgKiAxMDAwICogKDMgLSAxKSArIDE7XG4gICAgICAvL29ubHkgc2hvdyBhbmltYWxzIGlmIGdhbWUgaGFzIGJlZW4gc3RhcnRlZCBhbmQgY291bnRkb3duIHRpbWVyIGhhcyBub3QgcnVuIG91dFxuICAgICAgaWYgKGdhbWVPbiA9PT0gdHJ1ZSkge1xuICAgICAgICB0aW1lU2hvd0FuaW1hbCA9ICQubm93KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRpbWVTaG93QW5pbWFsKTtcbiAgICAgICAgc2hvd0FuaW1hbHMoKTtcbiAgICAgIH1cbiAgICB9LCBkZWxheSk7XG4gIH07XG5cbiAgLy8gY2hlY2sgYW5kIHNob3cgYmFkZ2VzXG4gIGNvbnN0IGNoZWNrQW5kU2hvd0JhZGdlcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChiZWF2ZXJTY29yZSA+IDUpIHtcbiAgICAgICRiYWRnZTEuYWRkQ2xhc3MoJ2JhZGdlMScpO1xuICAgIH1cbiAgICBpZiAoYmVhdmVyU2NvcmUgPiAxMCkge1xuICAgICAgJGJhZGdlMi5hZGRDbGFzcygnYmFkZ2UyJyk7XG4gICAgfVxuICAgIGlmIChiZWF2ZXJTY29yZSA+IDIwKSB7XG4gICAgICAkYmFkZ2UzLmFkZENsYXNzKCdiYWRnZTMnKTtcbiAgICB9XG4gICAgaWYgKGJlYXZlclNjb3JlID4gNTApIHtcbiAgICAgICRiYWRnZTQuYWRkQ2xhc3MoJ2JhZGdlNCcpO1xuICAgIH1cbiAgICBpZiAob3R0ZXJTY29yZSA+IDUpIHtcbiAgICAgICRiYWRnZTUuYWRkQ2xhc3MoJ2JhZGdlNScpO1xuICAgIH1cbiAgICBpZiAob3R0ZXJTY29yZSA+IDEwKSB7XG4gICAgICAkYmFkZ2U2LmFkZENsYXNzKCdiYWRnZTYnKTtcbiAgICB9XG4gICAgaWYgKGJsYW5rU2NvcmUgPiAxMCkge1xuICAgICAgJGJhZGdlNy5hZGRDbGFzcygnYmFkZ2U3Jyk7XG4gICAgfVxuICAgIGlmICh1c2VyU2NvcmUgPiBoaWdoc2NvcmUpIHtcbiAgICAgICRiYWRnZTguYWRkQ2xhc3MoJ2JhZGdlOCcpO1xuICAgIH1cbiAgfTtcblxuICAvL2dhbWUgbG9naWMgZm9yIHVzZXIgY2xpY2tpbmcgb24gYmVhdmVycy9vdHRlcnMvZW1wdHkgc3F1YXJlXG4gICRnYW1laG9sZGVyLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICB1c2VyQ2xpY2tBbmltYWwgPSAkLm5vdygpO1xuICAgIGNvbnNvbGUubG9nKHVzZXJDbGlja0FuaW1hbCk7XG4gICAgaWYgKGdhbWVPbiA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKCQoZS50YXJnZXQpLmhhc0NsYXNzKCdiZWF2ZXInKSkge1xuICAgICAgICAvL3VwZGF0ZSBzY29yZXNcbiAgICAgICAgY2xpY2tTY29yZSA9IDIwO1xuICAgICAgICB1c2VyU2NvcmUgKz0gMjA7XG4gICAgICAgIGJlYXZlclNjb3JlICs9IDE7XG4gICAgICAgIC8vc2hvdyBiYWRnZXNcbiAgICAgICAgY2hlY2tBbmRTaG93QmFkZ2VzKCk7XG4gICAgICAgIC8vaGlkZSBhbmltYWwgYnkgcmVtb3ZpbmcgY2xhc3NcbiAgICAgICAgKCQoZS50YXJnZXQpLnJlbW92ZUNsYXNzKCdiZWF2ZXInKSk7XG4gICAgICAgIC8vbWFrZSBzb3VuZCAobm90IGluY2x1ZGVkIHlldClcbiAgICAgIH0gZWxzZSBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJ290dGVyJykpIHtcbiAgICAgICAgY2xpY2tTY29yZSA9IC0xMDtcbiAgICAgICAgdXNlclNjb3JlIC09IDIwO1xuICAgICAgICBvdHRlclNjb3JlICs9IDE7XG4gICAgICAgIGNoZWNrQW5kU2hvd0JhZGdlcygpO1xuICAgICAgICAoJChlLnRhcmdldCkucmVtb3ZlQ2xhc3MoJ290dGVyJykpO1xuICAgICAgICAvL21ha2Ugc291bmRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsaWNrU2NvcmUgPSAtNTtcbiAgICAgICAgdXNlclNjb3JlIC09IDU7XG4gICAgICAgIGJsYW5rU2NvcmUgKz0gMTtcbiAgICAgICAgLy9tYWtlIHNvdW5kXG4gICAgICB9XG4gICAgICAvL3Nob3cgdXNlcnMgY3VycmVudCBzY29yZSwgcnVubmluZyB0b3RhbCBhbmQgY2xpY2sgdGltZVxuICAgICAgJGNsaWNrU2NvcmVTY3JlZW4udGV4dChjbGlja1Njb3JlKTtcbiAgICAgICR1c2VyU2NvcmVTY3JlZW4udGV4dCh1c2VyU2NvcmUpO1xuICAgICAgLy9zdG9yZSB1c2VycyB0aW1lIGRpZmZlcmVuY2UgaW4gYXJyYXlcbiAgICAgIHVzZXJUaW1lQXJyYXkucHVzaChjbGlja1RpbWUpO1xuICAgICAgLy9zaG93IGNsaWNrIHRpbWUgdG8gdXNlcnNcbiAgICAgICRjbGlja1RpbWVEaWZmZXJlbmNlU2NyZWVuLnRleHQoZmluZENsaWNrVGltZSgpKTtcbiAgICAgIC8vZmluZCBhbmQgc2hvdyB1c2VycyBmYXN0ZXN0IGNsaWNrIHRpbWVcbiAgICAgICRmYXN0ZXN0Q2xpY2tTY3JlZW4udGV4dChmaW5kVXNlckZhc3Rlc3RDTGljaygpKTtcbiAgICAgIC8vZmluZCBhbmQgc2hvdyB1c2VycyBhdmVyYWdlIGNsaWNrIHRpbWVcbiAgICAgICRhdmVyYWdlQ0xpY2tTY3JlZW4udGV4dChmaW5kVXNlckF2ZXJhZ2VDbGlja1RpbWUoKSk7XG4gICAgfVxuICB9KTtcblxuICAvL2NyZWF0ZSAnYWRkVGVtcG9yYXJ5Q2xhc3MnIGZ1bmN0aW9uXG4gIChmdW5jdGlvbigkKSB7XG4gICAgJC5mbi5leHRlbmQoe1xuICAgICAgYWRkVGVtcG9yYXJ5Q2xhc3M6IGZ1bmN0aW9uKGNsYXNzTmFtZSwgZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50cy5yZW1vdmVDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgICB9LCBkdXJhdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSkoalF1ZXJ5KTtcbn0pO1xuIl19
